(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function c(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(n){if(n.ep)return;n.ep=!0;const t=c(n);fetch(n.href,t)}})();const ee=[{id:"A",table_number:"A",min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:"B",table_number:"B",min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:1,table_number:100,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:2,table_number:101,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:3,table_number:102,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:4,table_number:103,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:5,table_number:104,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:6,table_number:105,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:7,table_number:106,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:8,table_number:107,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:9,table_number:108,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:10,table_number:109,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:11,table_number:110,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:12,table_number:111,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:13,table_number:112,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:14,table_number:113,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:15,table_number:114,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:16,table_number:115,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:17,table_number:116,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:18,table_number:117,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:19,table_number:118,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:""},{id:20,table_number:119,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:21,table_number:120,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:22,table_number:121,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:23,table_number:122,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:24,table_number:123,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:25,table_number:124,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:26,table_number:125,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:27,table_number:126,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:28,table_number:127,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:29,table_number:128,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:30,table_number:129,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:31,table_number:130,min_seat_requirment:4,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:32,table_number:131,min_seat_requirment:4,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:33,table_number:132,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:34,table_number:133,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:35,table_number:500,min_seat_requirment:2,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:36,table_number:501,min_seat_requirment:2,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:37,table_number:502,min_seat_requirment:1,max_seat_requirment:2,price:50,desc:"",image:"",location:"Main Floor"},{id:38,table_number:503,min_seat_requirment:1,max_seat_requirment:2,price:50,desc:"",image:"",location:"Main Floor"},{id:39,table_number:504,min_seat_requirment:1,max_seat_requirment:2,price:50,desc:"",image:"",location:"Main Floor"},{id:40,table_number:505,min_seat_requirment:2,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:41,table_number:506,min_seat_requirment:2,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:42,table_number:200,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:43,table_number:201,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:44,table_number:202,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:45,table_number:203,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:46,table_number:204,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:47,table_number:205,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:48,table_number:206,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:49,table_number:207,min_seat_requirment:1,max_seat_requirment:2,price:0,desc:"",image:"",location:"Main Floor"},{id:50,table_number:208,min_seat_requirment:1,max_seat_requirment:2,price:0,desc:"",image:"",location:"Main Floor"},{id:51,table_number:209,min_seat_requirment:1,max_seat_requirment:2,price:0,desc:"",image:"",location:"Main Floor"},{id:52,table_number:210,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:53,table_number:211,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Main Floor"},{id:54,table_number:212,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Main Floor"},{id:55,table_number:220,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:56,table_number:221,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Main Floor"},{id:57,table_number:222,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Main Floor"},{id:58,table_number:230,min_seat_requirment:4,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:59,table_number:300,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:60,table_number:301,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:61,table_number:302,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:62,table_number:303,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:63,table_number:304,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:64,table_number:305,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:65,table_number:306,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:66,table_number:307,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:67,table_number:308,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:68,table_number:309,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:69,table_number:310,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:70,table_number:311,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:71,table_number:312,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:72,table_number:313,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:73,table_number:314,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:74,table_number:315,min_seat_requirment:2,max_seat_requirment:6,price:"40 Per Person",desc:"",image:"",location:"Mezzanine Floor"},{id:75,table_number:316,min_seat_requirment:2,max_seat_requirment:6,price:"40 Per Person",desc:"",image:"",location:"Mezzanine Floor"},{id:76,table_number:317,min_seat_requirment:2,max_seat_requirment:6,price:"40 Per Person",desc:"",image:"",location:"Mezzanine Floor"},{id:77,table_number:400,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:78,table_number:401,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:79,table_number:402,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:80,table_number:403,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:81,table_number:600,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:82,table_number:601,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:83,table_number:602,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:84,table_number:603,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"}],pe=[{show_name:"Bordello (Burlesque)",show_day:"Thursday",table_id:"seat_number_105_2",table_number:105,table_price:20,table_location:"Main Floor",table_booking_date:"02/27/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Bordello (Burlesque)",show_day:"Thursday",table_id:"seat_number_101_1",table_number:101,table_price:20,table_location:"Main Floor",table_booking_date:"02/27/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Bordello (Burlesque)",show_day:"Thursday",table_id:"seat_number_102_2",table_number:102,table_price:20,table_location:"Main Floor",table_booking_date:"02/27/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Opus (Variety Show)",show_day:"Saturday",table_id:"seat_number_101_2",table_number:101,table_price:20,table_location:"Main Floor",table_booking_date:"03/29/2025",time_slot:"7:30 PM",time_Id:"time_1930"},{show_name:"Opus (Variety Show)",show_day:"Saturday",table_id:"seat_number_102_1",table_number:102,table_price:20,table_location:"Main Floor",table_booking_date:"03/29/2025",time_slot:"7:30 PM",time_Id:"time_1930"},{show_name:"Opus (Variety Show)",show_day:"Saturday",table_id:"seat_number_102_2",table_number:102,table_price:20,table_location:"Main Floor",table_booking_date:"03/29/2025",time_slot:"7:30 PM",time_Id:"time_1930"},,{show_name:"Opus (Variety Show)",show_day:"Friday",table_id:"seat_number_311_2",table_number:311,table_price:50,table_location:"Mezzanine Floor",table_booking_date:"03/29/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Opus (Variety Show)",show_day:"Friday",table_id:"seat_number_309_2",table_number:309,table_price:50,table_location:"Mezzanine Floor",table_booking_date:"03/29/2025",time_slot:"6:30 PM",time_Id:"time_1830"}];document.querySelector("#result");const s=[0,4,5,6],te=[20,20,50,50];let C=[...te];const ie=[20,20,75,75];let W=[...ie];const ne=[0,0,50,100];let R=[...ne];const oe=["1:00 PM to 2:00PM","7:30 PM - 8:00PM","8:00 PM - 9:00PM","7:30 PM to Close"];let D=[...oe];const re=["1:00 PM","7:30 PM","8:00 PM","7:30 PM"];let G=[...re];const Q=document.querySelector("#featured-image"),fe=["https://fabrikaphilly.com/wp-content/uploads/2024/08/sunday-drag-brunch.jpg","https://fabrikaphilly.com/wp-content/uploads/2024/08/thursday-burlesque.jpeg","https://fabrikaphilly.com/wp-content/uploads/2024/07/DSC04654.jpeg","https://fabrikaphilly.com/wp-content/uploads/2024/07/DSC04654.jpeg"];let ge=[...fe];const qe=document.querySelector("#show"),X=document.querySelector("#show-name-span"),we=document.querySelector("#show-start-span"),Me=document.querySelector("#show-day-span"),xe=document.querySelector("#min-spend"),ye=document.querySelector("#show-date"),Se=document.querySelector("#show-hours"),Fe=document.querySelector("#show-info"),V=document.querySelector("#customer-information");V.style.display="none";let ae=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const se=new Set(pe.map(e=>`${e.table_id}__${e.table_location}__${e.table_booking_date}__${e.time_Id}`));console.log(se);let A=!1;function ke(e){j.style.display="block"}function Te(e){Q.innerHTML="";const o=document.createElement("img");o.src=e,o.className="feature-image img-fluid",Q.appendChild(o)}const j=document.querySelector("#events"),le=document.querySelector("#row-AB"),me=document.querySelector("#row-109-105"),ce=document.querySelector("#row-104-100"),_e=document.querySelector("#row-305-315"),Z=document.querySelector("#checkout");let B=0,p,U=[];const T={},y={},K=document.querySelector("#time-slot");let Y={sundayTimeSlot:["12:00","12:15","12:30","12:45","13:00","13:15"],thursdayTimeSlot:["18:00","18:15","18:30","18:45","19:00","19:15","19:30"],fridayTimeSlot:["18:00","18:15","18:30","19:00","19:15","19:30","19:45","20:00","20:15"],saturdayTimeSlot:["18:00","18:15","18:30","19:00","19:15","19:30","19:45"],timeSlot:function(){return[this.sundayTimeSlot,this.thursdayTimeSlot,this.fridayTimeSlot,this.saturdayTimeSlot]}};Object.values(Y);let l="";const ze=[{show_id:"all",show_name:"All",show_link:"#",show_description:"All Show"},{show_id:"bordello",show_name:"Bordello (Burlesque)",show_link:"#",show_description:"A night of burlesque."},{show_id:"opus",show_name:"Opus (Variety Show)",show_link:"#",show_description:"A fun variety show with performances."},{show_id:"drag_brunch",show_name:"Drag Brunch",show_link:"#",show_description:"Brunch with fabulous drag performances."}];let{timeSlot:ve}=Y;const ue=ve.call(Y);let z=[...ue];console.log(z+"Slot array");let F=[...ze];const de=[F[3].show_name,F[1].show_name,F[2].show_name,F[2].show_name];let S=[...de],w=new Date().getDay();const E=[{show_id:"wicked-cabaret",show_name:"A Wicked Cabaret Ticket February 8 Ticket",show_link:"#",show_description:"A night Special of burlesque.",showDates:["02/01/2025","02/08/2025","02/15/2025"],ShowStartAt:"10:30 PM",ShowHours:"10:00 PM",MinSpend:"0",seatingTime:["22:00","22:15","22:30","22:45","23:00"]},{show_id:"love-inferno-ticket",show_name:"Love, Inferno Show 1",show_link:"#",show_description:"The Season of Love is right aound the corner! What better way to spend it than under the lights at Fabrika for our special performance: Love, Inferno",showDates:["02/14/2025"],ShowStartAt:"06:30 PM",ShowHours:"Doors Open: 5:30 pm - 8:00 pm",MinSpend:"0",seatingTime:["17:30","17:45","18:00","18:15","18:30"]},{show_id:"love-inferno-ticket-2",show_name:"Love, Inferno Show 2",show_link:"#",show_description:"The Season of Love is right aound the corner! What better way to spend it than under the lights at Fabrika for our special performance: Love, Inferno",showDates:["02/14/2025"],ShowStartAt:"09:30 PM",ShowHours:"Doors Open: 8:30 pm - close",MinSpend:"0",seatingTime:["17:30","17:45","18:00","18:15","18:30"]}];F=[...F,...E];console.log(F);const N=document.querySelectorAll(".location");let M=new Date;M=$.datepicker.formatDate("mm/dd/yy",M);const b=[];j.style.display="none";N.length>0&&(N[0].checked=!0,p=N[0].value,U=ee.filter(e=>e.location===p),P(w));N.forEach(e=>{e.addEventListener("change",function(){e.checked&&(p=e.value,U=ee.filter(o=>o.location===p),P(w),console.log(b))})});function be(e,o){const c=M;E.some(i=>e===i.show_id&&i.showDates.includes(c)?(console.log(`Current Show for ${c}: ${i.show_name}`),console.log(o+" Get the day index"),console.log(S[o]+" Get show index"),console.log(S[o]+" Get show index"),console.log(i.show_name+" Show Get show index"),S[o]=i.show_name,console.log(S[o]+" Updated Get show index"),!0):(i.showDates.includes(c)||(S=[...de]),!1))}function Ae(e){console.log("Invalid index or DOM element not found")}function $e(){le.innerHTML="",me.innerHTML="",ce.innerHTML="",_e.innerHTML=""}function Ee(){K.innerHTML=""}function Pe(e){l=e,console.log(l),$("#datepicker-container").datepicker("refresh")}function Oe(){F.forEach(e=>{console.log("Show Name: "+e.show_name),console.log("Show Link: "+e.show_link),console.log("Show Description: "+e.show_description);const o=document.createElement("li");o.textContent=e.show_name,o.setAttribute("data_id",e.show_id),o.className="show-link",qe.appendChild(o),document.querySelector(".show-link").classList.add("active"),o.addEventListener("click",function(){A=!1,j.style.display="none",console.log(A),l=this.getAttribute("data_id"),Pe(l),be(l,s.indexOf(w)),document.querySelectorAll(".show-link").forEach(i=>i.classList.remove("active")),this.classList.add("active"),P(w)})})}Oe();function P(e){console.log(l+"Show ID"),be(l,s.indexOf(e)),E.forEach(t=>{if(console.log(`${M} Booking date for show`),t.showDates.includes(M)&&l===t.show_id){const r=s.indexOf(e);R[r]=t.MinSpend,G[r]=t.ShowStartAt,D[r]=t.ShowHours,z[r]=t.seatingTime}["wicked-cabaret"].includes(l)&&(C[s.indexOf(e)]=40),["love-inferno-ticket","love-inferno-ticket-2"].includes(l)&&(C[s.indexOf(e)]=85,W[s.indexOf(e)]=130),["all","bordello","opusShow","drag_brunch"].includes(l)&&(R=[...ne],G=[...re],D=[...oe],z=[...ue],C=[...te],W=[...ie])}),console.log("Display by Default"),console.log(M+"Current Date"),console.log(e+"Current DAY"),Fe.style.display=A?"block":"none",X.textContent="",s.forEach((t,r)=>{t==e&&(X.textContent=S[r],Ae(S[r]))});const o=ae[e];Me.textContent=o,we.textContent=G[s.indexOf(e)],xe.textContent=`$${R[s.indexOf(e)]}`,ye.textContent=M,Se.textContent=D[s.indexOf(e)];let c=ge[s.indexOf(e)];Te(c),Ee();function i(t){let[r,k]=t.split(":").map(Number),h=r>=12?"PM":"AM";return r=r%12||12,`${r}:${k<10?"0":""}${k} ${h}`}function n(t){t===0?t=z[0]:t===4?t=z[1]:t===5?t=z[2]:t===6&&(t=z[3]),t.forEach((r,k)=>{const h=document.createElement("label"),_=document.createElement("li");_.setAttribute("name",i(r)),_.value=i(r),_.textContent=i(r);const u="time_"+r.replace(/[:\s]/g,""),d=document.createElement("input");d.setAttribute("type","radio"),d.className="show-times",d.setAttribute("name","selected_time"),d.setAttribute("id",u),d.value=i(r);const v=`${u}_${k}_${p.replace(/ /g,"")}`;y[p]&&y[p][v]===k?d.checked=!0:d.checked=!1,d.addEventListener("change",function(){if(document.querySelectorAll(".form-check-input").forEach(f=>{f.checked=!1}),ke(),this.checked){console.log(b),b.forEach(f=>{console.log("Time slot value:",d.value),d.value===f.time_slot&&document.querySelectorAll(".form-check-input").forEach(a=>{a.id===f.table_id&&(a.checked=!0)})}),y[p]||(y[p]={});for(const f in y[p])y[p].hasOwnProperty(f)&&(y[p][f]=null);y[p][v]=k,b.time_slot=this.value}console.log(b)}),K.appendChild(h),h.appendChild(d),h.appendChild(_)})}(e===0||e>=4)&&n(e),B=0,$e(),U.forEach(t=>{t.tier=1;let r="#ff0000";(e==0||e==4)&&t.tier==1&&(r="#cb82e6"),(e==5||e==6)&&t.table_number>=100&&t.table_number<=104&&(t.tier=2,r="#cb82e6"),(e==5||e==6)&&t.table_number>=305&&t.table_number<=315&&(t.tier=1,r="#ff0000"),t.tier==1&&(t.price=C[s.indexOf(e)]),t.tier==2&&(t.price=W[s.indexOf(e)]),(t.table_number=="A"||t.table_number=="B")&&L(t,le,r,e),t.table_number>=105&&t.table_number<=109&&L(t,me,r,e),t.table_number>=100&&t.table_number<=104&&L(t,ce,r,e),t.table_number>=305&&t.table_number<=315&&L(t,_e,r,e)})}function L(e,o,c,i){if(i>=1&&i<=3)return;const n=document.createElement("div");n.classList.add("col"),n.innerHTML=`<div class="input-container"><div class="card text-white fw-bold text-center" style="background-color:${c}">$${e.price}
  <small style="font-size:10px;">${e.table_number}</small></div>
  </div>`,o.appendChild(n);const t=e.max_seat_requirment;for(let h=1;h<=t;h++){let v=function(a){e.time_Id=a.id,console.log(a.id+" Data time id"),H()},H=function(){const a=`${u}__${e.location}__${M}__${e.time_Id}`,g=document.getElementById(u);se.has(a)?(console.log(a+"trace booked table"),g.style.border="Solid 4px red",g.checked=!0,g.setAttribute("disabled",!0)):(g.style.border="0",g.checked=!1,g.removeAttribute("disabled"))};var r=v,k=H;const _=document.createElement("input");_.setAttribute("type","checkbox"),_.setAttribute("id",`seat_number_${e.table_number}_${h}`),K.appendChild(_);const u=`seat_number_${e.table_number}_${h}`,d=document.querySelectorAll(".show-times");d.forEach(a=>{a.checked&&(console.log(a.id+" Time slot checked get id"),v(a)),a.addEventListener("change",function(){d.forEach(g=>{g.checked&&v(g)})})});const f=document.createElement("label");f.setAttribute("for",u),T[u]&&T[u].includes(h)&&(_.checked=!0),_.setAttribute("name","selected_table"),_.setAttribute("class","form-check-input"),_.addEventListener("change",function(){let a,g;if(d.forEach(q=>{q.checked&&(console.log("slot are checked"),a=q.value,g=q.id)}),this.checked){console.log("checkbox checked"),T[u]||(T[u]=[]),T[u].push(h),B+=e.price,console.log(i+"current selected date");let q,x;s.includes(i)&&(q=s.indexOf(i),x=ae[i],console.log(q+"current Day")),b.push({show_name:S[q],show_day:x,table_id:u,table_number:e.table_number,table_price:e.price,table_location:e.location,table_booking_date:M,time_slot:a,time_Id:g}),J(this)}else{const q=T[u].indexOf(h);q>-1&&(T[u].splice(q,1),B-=e.price),B-=e.price;const x=b.findIndex(m=>m.table_id===u&&m.table_booking_date===M);x!==-1&&(b.splice(x,1),console.log("Removed Reservation:",b),J(),V.style.display=x==0?"none":"block")}function J(q){Z.innerHTML="";const x=new Map;b.forEach((m,I)=>{if(m.time_slot===void 0){alert("Please select time slot first"),q.checked=!1,b.splice(I,1);return}const he=`${m.table_id}_${m.time_slot}`;x.set(he,{data:m,index:I})}),b.length=0,x.forEach(({data:m,index:I})=>{b.push(m),V.style.display="block",Z.innerHTML+=`
      <div class="reservation-item">
        <p>#${I+1}</p>
        <p><strong>Show Name</strong>: ${m.show_name}</p>
        <p><strong>Show Day</strong>: ${m.show_day}</p>
        <p><strong>Date</strong>: ${m.table_booking_date}</p>
        <p><strong>Seating Time</strong>: ${m.time_slot}</p>
        <p><strong>${m.table_location}</strong>: $${m.table_price}</p>
        <p>For dev use only:</p>
        <p><strong>Table</strong>: ${m.table_id}</p>
      </div>
    `})}});const O=o.querySelectorAll(".input-container");O.forEach(a=>{a.appendChild(_),a.appendChild(f)}),h%2===0?O.forEach(a=>{a.parentNode.insertBefore(_,a),a.parentNode.insertBefore(f,a)}):O.forEach(a=>{a.parentNode.insertBefore(_,a.nextSibling),a.parentNode.insertBefore(f,a.nextSibling)})}}function Ie(e){console.log(e+" RESET Booking DATE"),document.querySelectorAll(".form-check-input").forEach(i=>{i.checked=!1}),b.forEach(i=>{if(i.table_booking_date.includes(e)){const n=document.querySelector(`#${i.table_id}`);n&&(n.checked=!0,console.log(`Checkbox ${n.id} checked`))}}),document.querySelectorAll(".show-times").forEach(i=>{i.checked=!1}),b.forEach(i=>{if(i.table_booking_date.includes(e)){const n=document.querySelector(`#${i.time_Id}`);n&&(n.checked=!0,console.log(`Checkbox ${n.id} checked`))}})}w==s[w]&&P(s[w]);$(function(){const e=new Date;$("#datepicker-container").datepicker({minDate:e,beforeShowDay:function(o){var c=$.datepicker.formatDate("mm/dd/yy",o);let i=E.find(t=>t.show_id===l);if(i)return i.showDates.includes(c)?[!0]:[!1];if(l==="bordello")return o.getDay()===4?(w=4,[!0]):[!1];if(l==="opus"||l==="wicked-cabaret")return w=5,o.getDay()===5||o.getDay()===6?[!0]:[!1];if(l==="drag_brunch")return w=0,o.getDay()===0?[!0]:[!1];var n=o.getDay();return n==1||n==2||n==3?[!1]:[!0]},beforeShow:function(o,c){let i=E.find(n=>n.show_id===l);if(i&&i.showDates.length>0){let n=i.showDates[0];$(this).datepicker("setDate",n),$(this).datepicker("option","defaultDate",n)}},onSelect:function(o,c){const i=new Date(o);M=$.datepicker.formatDate("mm/dd/yy",i);const n=i.getDay();i.getDate(),i.toLocaleString("default",{weekday:"long"}),w=n,A=!0,console.log(A+"Show info"),P(w),Ie(M)}})});

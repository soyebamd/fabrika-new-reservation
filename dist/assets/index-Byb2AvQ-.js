(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))E(_);new MutationObserver(_=>{for(const d of _)if(d.type==="childList")for(const H of d.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&E(H)}).observe(document,{childList:!0,subtree:!0});function W(_){const d={};return _.integrity&&(d.integrity=_.integrity),_.referrerPolicy&&(d.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?d.credentials="include":_.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function E(_){if(_.ep)return;_.ep=!0;const d=W(_);fetch(_.href,d)}})();const ye=[{id:"A",table_number:"A",min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor",type:"per person"},{id:"B",table_number:"B",min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:1,table_number:100,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:2,table_number:101,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:3,table_number:102,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:4,table_number:103,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:5,table_number:104,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:6,table_number:105,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:7,table_number:106,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:8,table_number:107,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:9,table_number:108,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:10,table_number:109,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:11,table_number:110,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:12,table_number:111,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:13,table_number:112,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:14,table_number:113,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:15,table_number:114,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:16,table_number:115,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:17,table_number:116,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:18,table_number:117,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:19,table_number:118,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:20,table_number:119,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:21,table_number:120,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:22,table_number:121,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:23,table_number:122,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:24,table_number:123,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:25,table_number:124,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:26,table_number:125,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:27,table_number:126,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:28,table_number:127,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:29,table_number:128,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:30,table_number:129,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:31,table_number:130,min_seat_requirment:4,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:32,table_number:131,min_seat_requirment:4,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:33,table_number:132,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:34,table_number:133,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:35,table_number:500,min_seat_requirment:2,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:36,table_number:501,min_seat_requirment:2,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:37,table_number:502,min_seat_requirment:6,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:38,table_number:503,min_seat_requirment:6,max_seat_requirment:6,price:50,desc:"",image:"",location:"Main Floor"},{id:39,table_number:504,min_seat_requirment:1,max_seat_requirment:2,price:50,desc:"",image:"",location:"Main Floor"},{id:40,table_number:505,min_seat_requirment:1,max_seat_requirment:2,price:50,desc:"",image:"",location:"Main Floor"},{id:41,table_number:506,min_seat_requirment:1,max_seat_requirment:2,price:50,desc:"",image:"",location:"Main Floor"},{id:42,table_number:200,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:43,table_number:201,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:44,table_number:202,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:45,table_number:203,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:46,table_number:204,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:47,table_number:205,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:48,table_number:206,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:49,table_number:207,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:50,table_number:208,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:51,table_number:209,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Main Floor"},{id:52,table_number:210,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:53,table_number:211,min_seat_requirment:6,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:54,table_number:212,min_seat_requirment:6,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:55,table_number:220,min_seat_requirment:2,max_seat_requirment:4,price:20,desc:"",image:"",location:"Main Floor"},{id:56,table_number:221,min_seat_requirment:6,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:57,table_number:222,min_seat_requirment:6,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:58,table_number:230,min_seat_requirment:4,max_seat_requirment:6,price:20,desc:"",image:"",location:"Main Floor"},{id:59,table_number:300,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:60,table_number:301,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:61,table_number:302,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:62,table_number:303,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:63,table_number:304,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:64,table_number:305,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:65,table_number:306,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:66,table_number:307,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:67,table_number:308,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:68,table_number:309,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:69,table_number:310,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:70,table_number:311,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:71,table_number:312,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:72,table_number:313,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:73,table_number:314,min_seat_requirment:1,max_seat_requirment:2,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:74,table_number:315,min_seat_requirment:2,max_seat_requirment:6,price:"40 Per Person",desc:"",image:"",location:"Mezzanine Floor"},{id:75,table_number:316,min_seat_requirment:2,max_seat_requirment:6,price:"40 Per Person",desc:"",image:"",location:"Mezzanine Floor"},{id:76,table_number:317,min_seat_requirment:2,max_seat_requirment:6,price:"40 Per Person",desc:"",image:"",location:"Mezzanine Floor"},{id:77,table_number:400,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:78,table_number:401,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:79,table_number:402,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:80,table_number:403,min_seat_requirment:2,max_seat_requirment:6,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:81,table_number:600,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:82,table_number:601,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:83,table_number:602,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"},{id:84,table_number:603,min_seat_requirment:6,max_seat_requirment:8,price:20,desc:"",image:"",location:"Mezzanine Floor"}],ht=[{show_name:"Bordello (Burlesque)",show_day:"Thursday",table_id:"seat_number_105_2",table_number:105,table_price:20,table_location:"Main Floor",table_booking_date:"02/27/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Bordello (Burlesque)",show_day:"Thursday",table_id:"seat_number_101_1",table_number:101,table_price:20,table_location:"Main Floor",table_booking_date:"02/27/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Bordello (Burlesque)",show_day:"Thursday",table_id:"seat_number_102_2",table_number:102,table_price:20,table_location:"Main Floor",table_booking_date:"02/27/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Opus (Variety Show)",show_day:"Saturday",table_id:"seat_number_101_2",table_number:101,table_price:20,table_location:"Main Floor",table_booking_date:"03/29/2025",time_slot:"7:30 PM",time_Id:"time_1930"},{show_name:"Opus (Variety Show)",show_day:"Saturday",table_id:"seat_number_102_1",table_number:102,table_price:20,table_location:"Main Floor",table_booking_date:"03/29/2025",time_slot:"7:30 PM",time_Id:"time_1930"},{show_name:"Opus (Variety Show)",show_day:"Saturday",table_id:"seat_number_102_2",table_number:102,table_price:20,table_location:"Main Floor",table_booking_date:"03/29/2025",time_slot:"7:30 PM",time_Id:"time_1930"},,{show_name:"Opus (Variety Show)",show_day:"Friday",table_id:"seat_number_311_2",table_number:311,table_price:50,table_location:"Mezzanine Floor",table_booking_date:"03/29/2025",time_slot:"6:30 PM",time_Id:"time_1830"},{show_name:"Opus (Variety Show)",show_day:"Friday",table_id:"seat_number_309_2",table_number:309,table_price:50,table_location:"Mezzanine Floor",table_booking_date:"03/29/2025",time_slot:"6:30 PM",time_Id:"time_1830"}];document.addEventListener("DOMContentLoaded",function(){document.querySelector("#result");const I=document.querySelector(".in-one-row-scroll"),s=[0,4,5,6],W=[20,10,50,50];let E=[...W];const _=[20,10,75,75];let d=[..._],xe=[...[200,50,300,300]],Me=[...[400,50,750,750]];const Se=[...[20,10,50,50]],Fe=[...[300,50,650,650]],ke=[20,20,45,45],se=[0,0,50,100];let G=[...se];const ae=["1:00 PM to 2:00PM","7:30 PM - 8:00PM","8:00 PM - 9:00PM","7:30 PM to Close"];let U=[...ae];const le=["1:00 PM","7:30 PM","8:00 PM","7:30 PM"];let K=[...le];const me=document.querySelector("#featured-image");let ve=[...["https://fabrikaphilly.com/wp-content/uploads/2024/08/sunday-drag-brunch.jpg","https://fabrikaphilly.com/wp-content/uploads/2024/08/thursday-burlesque.jpeg","https://fabrikaphilly.com/wp-content/uploads/2024/07/DSC04654.jpeg","https://fabrikaphilly.com/wp-content/uploads/2024/07/DSC04654.jpeg"]];const ze=document.querySelector("#show"),ce=document.querySelector("#show-name-span"),Te=document.querySelector("#show-start-span"),$e=document.querySelector("#show-day-span"),Ae=document.querySelector("#min-spend"),Ee=document.querySelector("#show-date"),Ce=document.querySelector("#show-hours"),Oe=document.querySelector("#show-info"),Y=document.querySelector("#cart-count"),J=document.querySelector(".checkout-wrappper"),Le=document.querySelector("#menu");function Ie(){const t=function(){J.classList.toggle("pos-0")};Le.addEventListener("click",t)}const Q=document.querySelector("#customer-information");Q.style.display="none";let _e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const ue=new Set(ht.map(t=>`${t.table_id}__${t.table_location}__${t.table_booking_date}__${t.time_Id}`));console.log(ue);function de(){console.log("Scroll cotent scroll"),I&&(I.scrollLeft=(I.scrollWidth-I.clientWidth)/2)}let P=!1;function Pe(t){X.style.display="block"}function Be(t){me.innerHTML="";const i=document.createElement("img");i.src=t,i.className="feature-image img-fluid",me.appendChild(i)}const X=document.querySelector("#events"),be=document.querySelector("#main-floor"),Z=document.querySelector("#mezzanine-floor");Z.style.display="none";const Ne=document.querySelectorAll(".table-slot"),We=document.querySelector("#row-AB"),He=document.querySelector("#row-109-105"),Re=document.querySelector("#row-104-100"),Ve=document.querySelector("#row-200-204"),je=document.querySelector("#row-205-209"),Ge=document.querySelector("#row-110-115"),Ue=document.querySelector("#row-116-119"),Ke=document.querySelector("#row-120-125"),Ye=document.querySelector("#row-126-129"),Je=document.querySelector("#row-130-131"),Qe=document.querySelector("#row-132-133"),Xe=document.querySelector("#row-210-212"),Ze=document.querySelector("#row-220-222"),De=document.querySelector("#row-230"),et=document.querySelector("#row-504-506"),tt=document.querySelector("#row-500-501"),nt=document.querySelector("#row-502-503"),ot=document.querySelector("#row-317"),it=document.querySelector("#row-601-603"),rt=document.querySelector("#row-315-316"),st=document.querySelector("#row-400-403"),at=document.querySelector("#row-300-303"),pe=document.querySelector("#row-304-314"),D=document.querySelector("#checkout");let R=0,q,ee=[];const C={},v={},te=document.querySelector("#time-slot");let ne={sundayTimeSlot:["12:00","12:15","12:30","12:45","13:00","13:15"],thursdayTimeSlot:["18:00","18:15","18:30","18:45","19:00","19:15","19:30"],fridayTimeSlot:["18:00","18:15","18:30","19:00","19:15","19:30","19:45","20:00","20:15"],saturdayTimeSlot:["18:00","18:15","18:30","19:00","19:15","19:30","19:45"],timeSlot:function(){return[this.sundayTimeSlot,this.thursdayTimeSlot,this.fridayTimeSlot,this.saturdayTimeSlot]}};Object.values(ne);let u="";const lt=[{show_id:"all",show_name:"All",show_link:"#",show_description:"All Show"},{show_id:"bordello",show_name:"Bordello (Burlesque)",show_link:"#",show_description:"A night of burlesque."},{show_id:"opus",show_name:"Opus (Variety Show)",show_link:"#",show_description:"A fun variety show with performances."},{show_id:"drag_brunch",show_name:"Drag Brunch",show_link:"#",show_description:"Brunch with fabulous drag performances."}];let{timeSlot:mt}=ne;const he=mt.call(ne);let O=[...he];console.log(O+"Slot array");let z=[...lt];const fe=[z[3].show_name,z[1].show_name,z[2].show_name,z[2].show_name];let T=[...fe],w=new Date().getDay();const B=[{show_id:"wicked-cabaret",show_name:"A Wicked Cabaret Ticket February 8 Ticket",show_link:"#",show_description:"A night Special of burlesque.",showDates:["02/01/2025","02/08/2025","02/15/2025"],ShowStartAt:"10:30 PM",ShowHours:"10:00 PM",MinSpend:"0",seatingTime:["22:00","22:15","22:30","22:45","23:00"]},{show_id:"love-inferno-ticket",show_name:"Love, Inferno Show 1",show_link:"#",show_description:"The Season of Love is right aound the corner! What better way to spend it than under the lights at Fabrika for our special performance: Love, Inferno",showDates:["02/14/2025"],ShowStartAt:"06:30 PM",ShowHours:"Doors Open: 5:30 pm - 8:00 pm",MinSpend:"0",seatingTime:["17:30","17:45","18:00","18:15","18:30"]},{show_id:"love-inferno-ticket-2",show_name:"Love, Inferno Show 2",show_link:"#",show_description:"The Season of Love is right aound the corner! What better way to spend it than under the lights at Fabrika for our special performance: Love, Inferno",showDates:["02/14/2025"],ShowStartAt:"09:30 PM",ShowHours:"Doors Open: 8:30 pm - close",MinSpend:"0",seatingTime:["17:30","17:45","18:00","18:15","18:30"]}];z=[...z,...B],console.log(z);const V=document.querySelectorAll(".location");let y=new Date;y=$.datepicker.formatDate("mm/dd/yy",y);const a=[];X.style.display="none",V.length>0&&(V[0].checked=!0,q=V[0].value,ee=ye.filter(t=>t.location===q),N(w)),V.forEach(t=>{t.addEventListener("change",function(){t.checked&&(q=t.value,ee=ye.filter(i=>i.location===q),N(w),console.log(a)),console.log(t.value+"location"),t.value=="Mezzanine Floor"&&(be.style.display="none",Z.style.display="block"),t.value=="Main Floor"&&(be.style.display="block",Z.style.display="none")})});function ge(t,i){const f=y;B.some(o=>t===o.show_id&&o.showDates.includes(f)?(console.log(`Current Show for ${f}: ${o.show_name}`),console.log(i+" Get the day index"),console.log(T[i]+" Get show index"),console.log(T[i]+" Get show index"),console.log(o.show_name+" Show Get show index"),T[i]=o.show_name,console.log(T[i]+" Updated Get show index"),!0):(o.showDates.includes(f)||(T=[...fe]),!1))}function ct(t){console.log("Invalid index or DOM element not found")}function _t(){Ne.forEach(t=>{t.innerHTML=""}),pe.innerHTML=""}function ut(){te.innerHTML=""}function dt(t){u=t,console.log(u),$("#datepicker-container").datepicker("refresh")}function bt(){z.forEach(t=>{console.log("Show Name: "+t.show_name),console.log("Show Link: "+t.show_link),console.log("Show Description: "+t.show_description);const i=document.createElement("li");i.textContent=t.show_name,i.setAttribute("data_id",t.show_id),i.className="show-link",ze.appendChild(i),document.querySelector(".show-link").classList.add("active"),i.addEventListener("click",function(){P=!1,X.style.display="none",console.log(P),u=this.getAttribute("data_id"),dt(u),ge(u,s.indexOf(w)),document.querySelectorAll(".show-link").forEach(o=>o.classList.remove("active")),this.classList.add("active"),N(w)})})}bt();function N(t){console.log(u+"Show ID"),ge(u,s.indexOf(t)),B.forEach(e=>{if(console.log(`${y} Booking date for show`),e.showDates.includes(y)&&u===e.show_id){const n=s.indexOf(t);G[n]=e.MinSpend,K[n]=e.ShowStartAt,U[n]=e.ShowHours,O[n]=e.seatingTime}["wicked-cabaret"].includes(u)&&(E[s.indexOf(t)]=40),["love-inferno-ticket","love-inferno-ticket-2"].includes(u)&&(E[s.indexOf(t)]=85,d[s.indexOf(t)]=130),["all","bordello","opusShow","drag_brunch"].includes(u)&&(G=[...se],K=[...le],U=[...ae],O=[...he],E=[...W],d=[..._])}),console.log("Display by Default"),console.log(y+"Current Date"),console.log(t+"Current DAY"),Oe.style.display=P?"block":"none",ce.textContent="",s.forEach((e,n)=>{e==t&&(ce.textContent=T[n],ct(T[n]))});const i=_e[t];$e.textContent=i,Te.textContent=K[s.indexOf(t)],Ae.textContent=`$${G[s.indexOf(t)]}`,Ee.textContent=y,Ce.textContent=U[s.indexOf(t)];let f=ve[s.indexOf(t)];f&&Be(f),ut();function o(e){let[n,x]=e.split(":").map(Number),g=n>=12?"PM":"AM";return n=n%12||12,`${n}:${x<10?"0":""}${x} ${g}`}function c(e){e===0?e=O[0]:e===4?e=O[1]:e===5?e=O[2]:e===6&&(e=O[3]),e.forEach((n,x)=>{const g=document.createElement("label"),b=document.createElement("li");b.setAttribute("name",o(n)),b.value=o(n),b.textContent=o(n);const p="time_"+n.replace(/[:\s]/g,""),h=document.createElement("input");h.setAttribute("type","radio"),h.className="show-times",h.setAttribute("name","selected_time"),h.setAttribute("id",p),h.value=o(n);const L=`${p}_${x}_${q.replace(/ /g,"")}`;v[q]&&v[q][L]===x?h.checked=!0:h.checked=!1,h.addEventListener("change",function(){if(document.querySelectorAll(".form-check-input").forEach(M=>{M.checked=!1}),Pe(),this.checked){console.log(a),a.forEach(M=>{console.log("Time slot value:",h.value),h.value===M.time_slot&&document.querySelectorAll(".form-check-input").forEach(r=>{r.id===M.table_id&&(r.checked=!0)})}),v[q]||(v[q]={});for(const M in v[q])v[q].hasOwnProperty(M)&&(v[q][M]=null);v[q][L]=x,a.time_slot=this.value}console.log(a)}),te.appendChild(g),g.appendChild(h),g.appendChild(b)})}(t===0||t>=4)&&c(t),R=0,_t(),ee.forEach(e=>{e.table_number>=500&&e.table_number<=506||e.table_number>=315&&e.table_number<=317?e.type="per couch":e.type="per person",e.tier=1;let n="#cb82e6";const x=t===5||t===6;e.price=E[s.indexOf(t)],x&&(console.log(e.table_number),n="#ff0000",(e.table_number>=100&&e.table_number<=104||e.table_number>=110&&e.table_number<=115||e.table_number>=120&&e.table_number<=125||e.table_number>=200&&e.table_number<=204||e.table_number>=210&&e.table_number<=212||e.table_number>=220&&e.table_number<=222)&&(n="#cb82e6",e.price=d[s.indexOf(t)])),e.table_number>=504&&e.table_number<=506&&(n="#5271ff",e.price=xe[s.indexOf(t)]),e.table_number>=500&&e.table_number<=503&&(n="#57c06b",e.price=Me[s.indexOf(t)]),(e.table_number>=304&&e.table_number<=314||e.table_number>=315&&e.table_number<=317||e.table_number>=601&&e.table_number<=603||e.table_number>=300&&e.table_number<=303||e.table_number>=400&&e.table_number<=403)&&(e.price=Se[s.indexOf(t)]),e.table_number>=315&&e.table_number<=317&&(e.price=Fe[s.indexOf(t)],n="#57c06b",x&&(n="#ffde59")),x&&(e.table_number>=601&&e.table_number<=603||e.table_number>=400&&e.table_number<=403)&&(e.price=ke[s.indexOf(t)],n="#eda140"),(e.table_number=="A"||e.table_number=="B")&&l(e,We,n,t),e.table_number>=105&&e.table_number<=109&&l(e,He,n,t),e.table_number>=100&&e.table_number<=104&&l(e,Re,n,t),e.table_number>=200&&e.table_number<=204&&l(e,Ve,n,t),e.table_number>=205&&e.table_number<=209&&l(e,je,n,t),e.table_number>=110&&e.table_number<=115&&l(e,Ge,n,t),e.table_number>=116&&e.table_number<=119&&l(e,Ue,n,t),e.table_number>=120&&e.table_number<=125&&l(e,Ke,n,t),e.table_number>=126&&e.table_number<=129&&l(e,Ye,n,t),e.table_number>=130&&e.table_number<=131&&l(e,Je,n,t),e.table_number>=132&&e.table_number<=133&&l(e,Qe,n,t),e.table_number>=210&&e.table_number<=212&&l(e,Xe,n,t),e.table_number>=220&&e.table_number<=222&&l(e,Ze,n,t),e.table_number==230&&l(e,De,n,t),e.table_number>=504&&e.table_number<=506&&l(e,et,n,t),e.table_number>=500&&e.table_number<=501&&l(e,tt,n,t),e.table_number>=502&&e.table_number<=503&&l(e,nt,n,t),e.table_number==317&&l(e,ot,n,t),e.table_number>=601&&e.table_number<=603&&l(e,it,n,t),e.table_number>=315&&e.table_number<=316&&l(e,rt,n,t),e.table_number>=300&&e.table_number<=303&&l(e,at,n,t),e.table_number>=400&&e.table_number<=403&&l(e,st,n,t),e.table_number>=304&&e.table_number<=314&&l(e,pe,n,t)})}function l(t,i,f,o){if(t.price){if(o>=1&&o<=3)return;const n=document.createElement("div");n.classList.add("table-reserve"),n.innerHTML=`<div class="input-container"><div class="card text-dark fw-bold text-center" style="background-color:${f}">$${t.price}
  <small style="font-size:10px;">${t.table_number}</small><small  style="font-size:10px;">${t.type}</small></div>
  </div>`,i.appendChild(n);const x=t.max_seat_requirment;for(let g=1;g<=x;g++){let L=function(r){t.time_Id=r.id,console.log(r.id+" Data time id"),oe(),de()},oe=function(){const r=`${p}__${t.location}__${y}__${t.time_Id}`,S=document.getElementById(p);ue.has(r)?(console.log(r+"trace booked table"),S.style.border="Solid 4px red",S.checked=!0,S.setAttribute("disabled",!0)):(S.style.border="0",S.checked=!1,S.removeAttribute("disabled"))};var c=L,e=oe;const b=document.createElement("input");b.setAttribute("type","checkbox"),b.setAttribute("id",`seat_number_${t.table_number}_${g}`),te.appendChild(b);const p=`seat_number_${t.table_number}_${g}`,h=document.querySelectorAll(".show-times");h.forEach(r=>{r.checked&&(console.log(r.id+" Time slot checked get id"),L(r)),r.addEventListener("change",function(){h.forEach(S=>{S.checked&&L(S)})})});const M=document.createElement("label");M.setAttribute("for",p),C[p]&&C[p].includes(g)&&(b.checked=!0),b.setAttribute("name","selected_table"),b.setAttribute("class","form-check-input"),b.addEventListener("change",function(){let r,S;if(h.forEach(F=>{F.checked&&(console.log("slot are checked"),r=F.value,S=F.id)}),this.checked){console.log("checkbox checked"),C[p]||(C[p]=[]),C[p].push(g),R+=t.price,console.log(o+"current selected date");let F,k;s.includes(o)&&(F=s.indexOf(o),k=_e[o],console.log(F+"current Day")),a.push({show_name:T[F],show_day:k,table_id:p,table_number:t.table_number,table_price:t.price,table_location:t.location,table_booking_date:y,time_slot:r,time_Id:S}),qe(this)}else{const F=C[p].indexOf(g);F>-1&&(C[p].splice(F,1),R-=t.price),R-=t.price;const k=a.findIndex(m=>m.table_id===p&&m.table_booking_date===y);k!==-1&&(a.splice(k,1),console.log("Removed Reservation:",a),Y.textContent=a.length,a.length<=0&&J.classList.remove("pos-0"),qe(),Q.style.display=k==0?"none":"block")}function qe(F){const k=new Map;a.forEach((m,ie)=>{if(m.time_slot===void 0){alert("Please select time slot first"),F.checked=!1,a.splice(ie,1);return}const A=`${m.table_id}_${m.time_slot}`;k.set(A,{data:m,index:ie})}),a.length=0,D.innerHTML="",k.forEach(({data:m,index:ie})=>{a.push(m),Q.style.display="block";const A=document.createElement("div");A.classList.add("reservation-item"),A.setAttribute("data-table-id",m.table_id),A.innerHTML=`
    <div class="remove" id="${m.table_id}" data-date="${m.table_booking_date}" data-time="${m.time_slot}"><i class="fa-solid fa-trash-can"></i></div>
    <p><strong>Show Day</strong>: ${m.show_day}</p>
    <p><strong>Date</strong>: ${m.table_booking_date}</p>
    <p><strong>Seating Time</strong>: ${m.time_slot}</p>
    <p><strong>${m.table_location}</strong>: $${m.table_price}</p>
    <p>For dev use only:</p>
    <p><strong>Table</strong>: ${m.table_id}</p>
  `,Y.textContent=a.length,console.log(a.length+"REservaton data lentth"),Ie(),D.appendChild(A),A.querySelector(".remove").addEventListener("click",function(){D.removeChild(A);const we=a.findIndex(re=>re.table_id===m.table_id&&re.table_booking_date==m.table_booking_date&&re.time_slot==m.time_slot);we!==-1&&(document.getElementById(this.id).checked=!1,a.splice(we,1),Y.textContent=a.length,a.length<=0&&J.classList.remove("pos-0")),console.log(`Removed reservation with table_id: ${m.table_id}`)})})}});const j=i.querySelectorAll(".input-container");j.forEach(r=>{r.appendChild(b),r.appendChild(M)}),g%2===0?j.forEach(r=>{r.parentNode.insertBefore(b,r),r.parentNode.insertBefore(M,r)}):j.forEach(r=>{r.parentNode.insertBefore(b,r.nextSibling),r.parentNode.insertBefore(M,r.nextSibling)})}}}function pt(t){console.log(t+" RESET Booking DATE"),document.querySelectorAll(".form-check-input").forEach(o=>{o.checked=!1}),a.forEach(o=>{if(o.table_booking_date.includes(t)){const c=document.querySelector(`#${o.table_id}`);c&&(c.checked=!0,console.log(`Checkbox ${c.id} checked`))}}),document.querySelectorAll(".show-times").forEach(o=>{o.checked=!1}),a.forEach(o=>{if(o.table_booking_date.includes(t)){const c=document.querySelector(`#${o.time_Id}`);c&&(c.checked=!0,console.log(`Checkbox ${c.id} checked`))}})}w==s[w]&&N(s[w]),$(function(){const t=new Date;$("#datepicker-container").datepicker({minDate:t,beforeShowDay:function(i){var f=$.datepicker.formatDate("mm/dd/yy",i);let o=B.find(e=>e.show_id===u);if(o)return o.showDates.includes(f)?[!0]:[!1];if(u==="bordello")return i.getDay()===4?(w=4,[!0]):[!1];if(u==="opus"||u==="wicked-cabaret")return w=5,i.getDay()===5||i.getDay()===6?[!0]:[!1];if(u==="drag_brunch")return w=0,i.getDay()===0?[!0]:[!1];var c=i.getDay();return c==1||c==2||c==3?[!1]:[!0]},beforeShow:function(i,f){let o=B.find(c=>c.show_id===u);if(o&&o.showDates.length>0){let c=o.showDates[0];$(this).datepicker("setDate",c),$(this).datepicker("option","defaultDate",c)}},onSelect:function(i,f){const o=new Date(i);y=$.datepicker.formatDate("mm/dd/yy",o);const c=o.getDay();o.getDate(),o.toLocaleString("default",{weekday:"long"}),w=c,P=!0,console.log(P+"Show info"),N(w),pt(y),de()}})})});
